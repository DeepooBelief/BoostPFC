Version 4
SHEET 1 2580 968
WIRE -48 64 -96 64
WIRE 32 64 -48 64
WIRE 192 64 112 64
WIRE 240 64 192 64
WIRE 352 64 304 64
WIRE 496 64 496 16
WIRE 496 64 352 64
WIRE -48 112 -48 64
WIRE 192 128 192 64
WIRE 496 128 496 64
WIRE 144 144 96 144
WIRE 352 144 352 64
WIRE 144 192 112 192
WIRE -48 272 -48 192
WIRE -48 272 -112 272
WIRE 192 272 192 208
WIRE 192 272 -48 272
WIRE 352 272 352 208
WIRE 352 272 192 272
WIRE 496 272 496 208
WIRE 496 272 352 272
WIRE -112 288 -112 272
WIRE 0 560 0 528
FLAG -112 288 0
FLAG 112 192 PWM
FLAG 96 144 0
FLAG 0 448 PWM
FLAG 0 560 0
FLAG 496 16 Vout
FLAG -96 64 Vin
SYMBOL sw 192 112 R0
SYMATTR InstName S1
SYMBOL cap 336 144 R0
SYMATTR InstName C1
SYMATTR Value 3.3m
SYMBOL ind 16 80 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L1
SYMATTR Value 330µ
SYMBOL voltage -48 96 R0
WINDOW 3 25 72 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR Value {Vsupp}
SYMATTR InstName V1
SYMBOL voltage 0 432 R0
WINDOW 3 24 96 Invisible 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR Value PULSE(0 9 0 0.000000008 0.000000008 {duty*0.00002} 0.00002)
SYMATTR InstName V2
SYMBOL diode 240 80 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D1
SYMBOL current 496 128 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName I1
SYMATTR Value {Iout}
TEXT 688 32 Left 2 !.MODEL SW SW(Ron=0.0001 Roff=10Meg Vt=.5 Vh=0)
TEXT 688 120 Left 2 !.tran 2
TEXT 696 248 Left 2 ;.ic V(Vout)=39.3 I(L1)={ILinit}
TEXT 688 -16 Left 2 !.param ILinit=39.3/Vsupp
TEXT 688 80 Left 2 !.param Vsupp=24 duty=1-Vsupp/40
TEXT 688 160 Left 2 !.param Iout 1
TEXT 696 360 Left 2 !.meas TRAN PIN AVG (-V(Vin)*I(V1)) FROM 1999.84ms TO 1999.98ms
TEXT 696 416 Left 2 !.meas TRAN POUT AVG (V(Vout)*I(I1)) FROM 1999.84ms TO 1999.98ms
TEXT 696 520 Left 2 !.meas TRAN V_ripple PP V(Vout) FROM 1999.84ms TO 1999.98ms
TEXT 696 576 Left 2 !.meas TRAN Vfinal AVG (V(vout)) FROM 1999.84ms TO 1999.98ms
TEXT 696 632 Left 2 !.meas TRAN eff PARAM POUT/PIN
TEXT 696 464 Left 2 !.meas TRAN I_ripple PP I(L1) FROM 1999.84ms TO 1999.98ms
TEXT 696 688 Left 2 !.meas TRAN V_peak MAX V(Vout)
TEXT 696 744 Left 2 !.meas TRAN Overshoot PARAM (V_peak-Vfinal)/Vfinal
TEXT 696 296 Left 2 !.ic V(Vout)=0 I(L1)=0
TEXT 696 800 Left 2 !.meas TRAN v_90 FIND time WHEN V(Vout)=0.9*{Vfinal} RISE=1
TEXT 696 856 Left 2 !.meas TRAN v_10 FIND time WHEN V(Vout)=0.1*{Vfinal} RISE=1
TEXT 696 896 Left 2 !.meas TRAN rise_time PARAM v_90-v_10
TEXT 696 952 Left 2 !.meas TRAN tsettle FIND time WHEN abs(V(Vout) - {Vfinal})=0.02*abs({Vfinal}) RISE=LAST
